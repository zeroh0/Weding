<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oracle.Weding.dao.MemberDao">

	<!-- 회원정보 조회 -->
	<select id="memberSelectOne" parameterType="String" resultType="Member">
		select * from member where id = #{id}
	</select>
	
	
	<!-- 회원가입 -->
	<insert id="memberJoin" parameterType="Member">
		INSERT into member values(
		#{id}, '100', '100', #{password}, #{name},
		#{phone},
		#{email}, #{zipCode}, #{roadAddress}, #{detailAddress}, '1'
		)
	</insert>


	<!-- 로그인 -->
	<select id="memberLoginSelectOne" parameterType="Member" resultType="Member">
		<![CDATA[
			select *
			from member
			where id=#{id} and password=#{password}
			and   m_status >= '1'
		]]>
	</select>
	
	
	<!-- 아이디 중복 체크 -->
	<select id="memberIdConfirm" parameterType="Member" resultType="int">
		select count(*)
		from member
		where id = #{id}
	</select>
	
	
	<!-- 회원정보 수정 -->
	<update id="memberUpdate" parameterType="Member">
		update member set name=#{name}, phone=#{phone},
						zipCode=#{zipCode}, roadAddress=#{roadAddress}, detailAddress=#{detailAddress}
						where id=#{id}
	</update>
	
	
	<!-- 비밀번호 수정 -->
	<update id="pwUpdate" parameterType="Member">
		update member set password=#{password} where id=#{id}
	</update>
	
	
	<!-- 회원 탈퇴 -->
	<update id="memberDelete" parameterType="Member">
		update member set m_status = 0 where id = #{id}
	</update>
	
</mapper>